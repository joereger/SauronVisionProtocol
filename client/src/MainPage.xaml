<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SauronVisionProtocol.Client.MainPage"
             Title="Sauron Vision Protocol">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Left Panel: Client Controls -->
        <Grid Grid.Column="0" Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <Label Grid.Row="0" Text="Client Controls" FontSize="Title" Margin="0,0,0,10" FontAttributes="Bold" />

            <Frame Grid.Row="1" Margin="0,0,0,10" BorderColor="Gray" Padding="10">
                <VerticalStackLayout Spacing="10">
                    <Label Text="Connection" FontSize="Subtitle" FontAttributes="Bold" />
                    
                    <Label Text="Server Address:" />
                    <Entry x:Name="ServerAddressEntry" Text="135.237.4.223" Placeholder="Enter server IP" />
                    
                    <Label Text="Port:" />
                    <Entry x:Name="PortEntry" Text="9000" Placeholder="Enter port" Keyboard="Numeric" />
                    
                    <HorizontalStackLayout Spacing="10">
                        <Button x:Name="ConnectButton" Text="Connect" Clicked="OnConnectClicked" HorizontalOptions="FillAndExpand" />
                        <Button x:Name="DisconnectButton" Text="Disconnect" Clicked="OnDisconnectClicked" HorizontalOptions="FillAndExpand" />
                    </HorizontalStackLayout>
                    
                    <Label x:Name="ConnectionStatusLabel" Text="Disconnected" TextColor="Red" />
                </VerticalStackLayout>
            </Frame>

            <Frame Grid.Row="2" Margin="0,0,0,10" BorderColor="Gray" Padding="10">
                <VerticalStackLayout Spacing="10">
                    <Label Text="PALANTIR_GAZE Command" FontSize="Subtitle" FontAttributes="Bold" />
                    
                    <Label Text="Location:" />
                    <Picker x:Name="LocationPicker" Title="Select location">
                        <Picker.Items>
                            <x:String>gondor</x:String>
                            <x:String>mordor</x:String>
                            <x:String>rohan</x:String>
                            <x:String>isengard</x:String>
                            <x:String>minas tirith</x:String>
                            <x:String>helm's deep</x:String>
                            <x:String>moria</x:String>
                        </Picker.Items>
                    </Picker>
                    
                    <Button x:Name="SendCommandButton" Text="Send Command" Clicked="OnSendCommandClicked" />
                </VerticalStackLayout>
            </Frame>
        </Grid>

        <!-- Middle Panel: Protocol View -->
        <Grid Grid.Column="1" Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <Label Grid.Row="0" Text="Protocol View" FontSize="Title" Margin="0,0,0,10" FontAttributes="Bold" />

            <Frame Grid.Row="1" BorderColor="Gray" Padding="10">
                <ScrollView>
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Command Sent:" FontAttributes="Bold" />
                        <Frame BorderColor="Silver" Padding="5" BackgroundColor="#f0f0f0">
                            <Label x:Name="CommandSentLabel" Text="" FontFamily="Monospace" />
                        </Frame>
                        
                        <Label Text="Raw Response:" FontAttributes="Bold" />
                        <Frame BorderColor="Silver" Padding="5" BackgroundColor="#f0f0f0">
                            <Label x:Name="RawResponseLabel" Text="" FontFamily="Monospace" />
                        </Frame>
                        
                        <Label Text="Communication Log:" FontAttributes="Bold" />
                        <Frame BorderColor="Silver" Padding="5" BackgroundColor="#f0f0f0" HeightRequest="300">
                            <ScrollView>
                                <Label x:Name="CommunicationLogLabel" Text="" FontFamily="Monospace" />
                            </ScrollView>
                        </Frame>
                    </VerticalStackLayout>
                </ScrollView>
            </Frame>
        </Grid>

        <!-- Right Panel: Server Response -->
        <Grid Grid.Column="2" Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <Label Grid.Row="0" Text="Server Response" FontSize="Title" Margin="0,0,0,10" FontAttributes="Bold" />

            <Frame Grid.Row="1" BorderColor="Gray" Padding="10">
                <ScrollView>
                    <VerticalStackLayout Spacing="10">
                        <Image x:Name="EyeOfSauronImage" Source="dotnet_bot.png" HeightRequest="150" Aspect="AspectFit" />
                        
                        <Label Text="Status:" FontAttributes="Bold" />
                        <Label x:Name="StatusLabel" Text="" FontSize="Subtitle" />
                        
                        <Label Text="Response Type:" FontAttributes="Bold" />
                        <Label x:Name="ResponseTypeLabel" Text="" FontSize="Subtitle" />
                        
                        <Label Text="Message:" FontAttributes="Bold" />
                        <Frame BorderColor="Silver" Padding="10" BackgroundColor="#FFF8E0">
                            <Label x:Name="MessageLabel" Text="" FontSize="Body" TextColor="Black" />
                        </Frame>
                    </VerticalStackLayout>
                </ScrollView>
            </Frame>
        </Grid>
    </Grid>
</ContentPage>
